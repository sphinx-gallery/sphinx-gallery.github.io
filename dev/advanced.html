
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Advanced usage &#8212; Sphinx-Gallery 0.21.0.dev0-git documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Vibur" />
    <link rel="stylesheet" type="text/css" href="_static/jupyterlite_sphinx.css?v=8ee2c72c" />
    <link rel="stylesheet" type="text/css" href="_static/theme_override.css?v=6ecc848e" />
    <link rel="stylesheet" type="text/css" href="_static/hide_links.css?v=60d22a59" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=8ad76226"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/jupyterlite_sphinx.js?v=96e329c5"></script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'advanced';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://sphinx-gallery.github.io/dev/_static/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'dev';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Frequently Asked Questions" href="faq.html" />
    <link rel="prev" title="Advanced topics" href="advanced_index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="0.21.0.dev0" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">üñºÔ∏è Sphinx-Gallery</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="usage.html">
    User guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="advanced_index.html">
    Advanced
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="galleries.html">
    Demo galleries
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="contribute.html">
    Contribution Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="changes.html">
    Changelog
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/sphinx-gallery/sphinx-gallery" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/sphinx-gallery" title="PyPI" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-box fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyPI</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="usage.html">
    User guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="advanced_index.html">
    Advanced
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="galleries.html">
    Demo galleries
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="contribute.html">
    Contribution Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="changes.html">
    Changelog
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/sphinx-gallery/sphinx-gallery" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/sphinx-gallery" title="PyPI" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-box fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyPI</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Advanced usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Sphinx-Gallery Utilities</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="reference.html">Sphinx-Gallery API Reference</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="gen_modules/sphinx_gallery.gen_gallery.html">sphinx_gallery.gen_gallery</a></li>
<li class="toctree-l2"><a class="reference internal" href="gen_modules/sphinx_gallery.backreferences.html">sphinx_gallery.backreferences</a></li>
<li class="toctree-l2"><a class="reference internal" href="gen_modules/sphinx_gallery.gen_rst.html">sphinx_gallery.gen_rst</a></li>
<li class="toctree-l2"><a class="reference internal" href="gen_modules/sphinx_gallery.scrapers.html">sphinx_gallery.scrapers</a></li>
<li class="toctree-l2"><a class="reference internal" href="gen_modules/sphinx_gallery.py_source_parser.html">sphinx_gallery.py_source_parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="gen_modules/sphinx_gallery.block_parser.html">sphinx_gallery.block_parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="gen_modules/sphinx_gallery.docs_resolv.html">sphinx_gallery.docs_resolv</a></li>
<li class="toctree-l2"><a class="reference internal" href="gen_modules/sphinx_gallery.notebook.html">sphinx_gallery.notebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="gen_modules/sphinx_gallery.downloads.html">sphinx_gallery.downloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="gen_modules/sphinx_gallery.sorting.html">sphinx_gallery.sorting</a></li>
<li class="toctree-l2"><a class="reference internal" href="gen_modules/sphinx_gallery.interactive_example.html">sphinx_gallery.interactive_example</a></li>
<li class="toctree-l2"><a class="reference internal" href="gen_modules/sphinx_gallery.directives.html">sphinx_gallery.directives</a></li>
<li class="toctree-l2"><a class="reference internal" href="gen_modules/sphinx_gallery.utils.optipng.html">sphinx_gallery.utils.optipng</a></li>
</ul>
</details></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="advanced_index.html" class="nav-link">Advanced topics</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Advanced usage</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="advanced-usage">
<span id="id1"></span><h1>Advanced usage<a class="headerlink" href="#advanced-usage" title="Link to this heading">#</a></h1>
<p>This page contains more advanced topics in case you want to understand how
to use Sphinx-Gallery more deeply.</p>
<nav class="contents local" id="contents">
<p class="topic-title"><strong>Contents</strong></p>
<ul class="simple">
<li><p><a class="reference internal" href="#extend-your-makefile-for-sphinx-gallery" id="id2">Extend your Makefile for Sphinx-Gallery</a></p>
<ul>
<li><p><a class="reference internal" href="#cleaning-the-gallery-files" id="id3">Cleaning the gallery files</a></p></li>
<li><p><a class="reference internal" href="#build-the-gallery-without-running-any-examples" id="id4">Build the gallery without running any examples</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#know-your-gallery-files" id="id5">Know your Gallery files</a></p>
<ul>
<li><p><a class="reference internal" href="#cross-referencing" id="id6">Cross referencing</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#understanding-warning-and-error-outputs" id="id7">Understanding warning and error outputs</a></p></li>
<li><p><a class="reference internal" href="#write-a-custom-image-scraper" id="id8">Write a custom image scraper</a></p>
<ul>
<li><p><a class="reference internal" href="#example-1-a-matplotlib-style-scraper" id="id9">Example 1: a Matplotlib-style scraper</a></p></li>
<li><p><a class="reference internal" href="#example-2-detecting-image-files-on-disk" id="id10">Example 2: detecting image files on disk</a></p></li>
<li><p><a class="reference internal" href="#example-3-matplotlib-with-svg-format" id="id11">Example 3: matplotlib with SVG format</a></p></li>
<li><p><a class="reference internal" href="#example-4-mayavi-scraper" id="id12">Example 4: Mayavi scraper</a></p></li>
<li><p><a class="reference internal" href="#integrate-custom-scrapers-with-sphinx-gallery" id="id13">Integrate custom scrapers with Sphinx-Gallery</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#resetting-before-each-example" id="id14">Resetting before each example</a></p></li>
<li><p><a class="reference internal" href="#altering-sphinx-gallery-css" id="id15">Altering Sphinx-Gallery CSS</a></p>
<ul>
<li><p><a class="reference internal" href="#hide-the-download-buttons-in-the-example-headers" id="id16">Hide the download buttons in the example headers</a></p></li>
<li><p><a class="reference internal" href="#disable-thumbnail-text-on-hover" id="id17">Disable thumbnail text on hover</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#using-only-sphinx-gallery-styles" id="id18">Using (only) Sphinx-Gallery styles</a></p></li>
<li><p><a class="reference internal" href="#using-sphinx-gallery-sidebar-components" id="id19">Using Sphinx-Gallery sidebar components</a></p>
<ul>
<li><p><a class="reference internal" href="#example" id="id20">Example</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="extend-your-makefile-for-sphinx-gallery">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Extend your Makefile for Sphinx-Gallery</a><a class="headerlink" href="#extend-your-makefile-for-sphinx-gallery" title="Link to this heading">#</a></h2>
<p>This section describes some common extensions to the documentation Makefile
that are useful for Sphinx-Gallery.</p>
<section id="cleaning-the-gallery-files">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">Cleaning the gallery files</a><a class="headerlink" href="#cleaning-the-gallery-files" title="Link to this heading">#</a></h3>
<p>Once your gallery is working you might need completely remove all generated
files by Sphinx-Gallery to have a clean build. For this we recommend adding the
following to your Sphinx <code class="docutils literal notranslate"><span class="pre">Makefile</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>clean:
<span class="w">        </span>rm<span class="w"> </span>-rf<span class="w"> </span><span class="k">$(</span>BUILDDIR<span class="k">)</span>/*
<span class="w">        </span>rm<span class="w"> </span>-rf<span class="w"> </span>auto_examples/
</pre></div>
</div>
<p>You need to adapt the second <code class="docutils literal notranslate"><span class="pre">rm</span></code> command if you have changed the
<code class="docutils literal notranslate"><span class="pre">gallery_dirs</span></code> config variable.</p>
</section>
<section id="build-the-gallery-without-running-any-examples">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">Build the gallery without running any examples</a><a class="headerlink" href="#build-the-gallery-without-running-any-examples" title="Link to this heading">#</a></h3>
<p>If you wish to build your gallery without running examples first (e.g., if an
example takes a long time to run), add the following to your <code class="docutils literal notranslate"><span class="pre">Makefile</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>html-noplot:
<span class="w">        </span><span class="k">$(</span>SPHINXBUILD<span class="k">)</span><span class="w"> </span>-D<span class="w"> </span><span class="nv">plot_gallery</span><span class="o">=</span><span class="m">0</span><span class="w"> </span>-b<span class="w"> </span>html<span class="w"> </span><span class="k">$(</span>ALLSPHINXOPTS<span class="k">)</span><span class="w"> </span><span class="k">$(</span>SOURCEDIR<span class="k">)</span><span class="w"> </span><span class="k">$(</span>BUILDDIR<span class="k">)</span>/html
<span class="w">        </span>@echo
<span class="w">        </span>@echo<span class="w"> </span><span class="s2">&quot;Build finished. The HTML pages are in </span><span class="k">$(</span>BUILDDIR<span class="k">)</span><span class="s2">/html.&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="know-your-gallery-files">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Know your Gallery files</a><a class="headerlink" href="#know-your-gallery-files" title="Link to this heading">#</a></h2>
<p>The Gallery has been built, now you and all of your project‚Äôs users
can already start enjoying it. All the temporary files needed to
generate the gallery (rst files, images, cache objects, etc) are
stored where you configured in <code class="docutils literal notranslate"><span class="pre">gallery_dirs</span></code>. The final files that go
into the HTML version of your documentation have a particular
namespace, to avoid collisions with your own files and images.</p>
<p>Our namespace convention is to prefix everything with <code class="docutils literal notranslate"><span class="pre">sphx_glr</span></code> and
change path separators with underscores. For example the first image
generated by the example ‚Äòplot_0_sin.py‚Äô has the name
<code class="docutils literal notranslate"><span class="pre">sphx_glr_plot_0_sin_001.png</span></code> and its thumbnail is
<code class="docutils literal notranslate"><span class="pre">sphx_glr_plot_0_sin_thumb.png</span></code></p>
<p>You can also include part of a gallery script elsewhere in your documentation
using the <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#directive-literalinclude" title="(in Sphinx v9.1.0rc1)"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">literalinclude</span></code></a> directive, in order to limit code
duplication:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">literalinclude</span><span class="p">::</span> ../examples/plot_0_sin.py
   <span class="nc">:language:</span> python
   <span class="nc">:start-after:</span> # License: BSD 3 clause
   <span class="nc">:end-before:</span> # To avoid matplotlib
</pre></div>
</div>
<p>The above directive inserts the following block:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$x$&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$\sin(x)$&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Using literalinclude is fragile and can break easily when examples are
changed (all the more when line numbers are used instead of <code class="docutils literal notranslate"><span class="pre">start-after</span></code>
and  <code class="docutils literal notranslate"><span class="pre">end-before</span></code>). Use with caution: linking directly to examples is
a more robust alternative.</p>
</div>
<section id="cross-referencing">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Cross referencing</a><a class="headerlink" href="#cross-referencing" title="Link to this heading">#</a></h3>
<p>You can also cross reference an example using similar naming convention. For
example if we want to reference the example
<a class="reference internal" href="auto_examples/plot_0_sin.html#sphx-glr-auto-examples-plot-0-sin-py"><span class="std std-ref">Introductory example - Plotting sin</span></a>, we just call its reference
<code class="docutils literal notranslate"><span class="pre">:ref:`sphx_glr_auto_examples_plot_0_sin.py`</span></code>.
Note that we have included the path to the example file (relative to
the <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> file) after <code class="docutils literal notranslate"><span class="pre">sphx_glr_</span></code>. Path separators are replaced with
underscores.</p>
</section>
</section>
<section id="understanding-warning-and-error-outputs">
<span id="warning-errors"></span><h2><a class="toc-backref" href="#id7" role="doc-backlink">Understanding warning and error outputs</a><a class="headerlink" href="#understanding-warning-and-error-outputs" title="Link to this heading">#</a></h2>
<p>Any warnings or errors that occur when executing code blocks in the gallery
Python files will be printed in pink during building of the documentation. The
<code class="docutils literal notranslate"><span class="pre">.py</span></code> file path and the line number that the error occurred in will also be
printed. For example, the example
<a class="reference internal" href="auto_examples/no_output/plot_raise.html#sphx-glr-auto-examples-no-output-plot-raise-py"><span class="std std-ref">Example that fails to execute</span></a> will raise the following
error:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">File</span> <span class="s2">&quot;&lt;full_path&gt;/examples/no_output/plot_raise.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">27</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">iae</span>
<span class="ne">NameError</span><span class="p">:</span> <span class="n">name</span> <span class="s1">&#39;iae&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span>
</pre></div>
</div>
<p>Problems in the text (reST) blocks of the gallery Python files will result
in warnings or errors when Sphinx is converting the generated <code class="docutils literal notranslate"><span class="pre">.rst</span></code> files
to HTML. These will be printed by Sphinx in pink, after code block errors,
during building of the documentation. In this case, the <code class="docutils literal notranslate"><span class="pre">.rst</span></code> file path and
<code class="docutils literal notranslate"><span class="pre">.rst</span></code> file line number will be printed. To fix the problem, you will need
to amend the original <code class="docutils literal notranslate"><span class="pre">.py</span></code> file, <strong>not</strong> the generated <code class="docutils literal notranslate"><span class="pre">.rst</span></code> file.
To figure out where the problem is, you will need to match the content of the
<code class="docutils literal notranslate"><span class="pre">.rst</span></code> file at the line number printed to the original <code class="docutils literal notranslate"><span class="pre">.py</span></code> file.</p>
<p>Example <code class="docutils literal notranslate"><span class="pre">.rst</span></code> warning:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">full_path</span><span class="o">&gt;/</span><span class="n">auto_examples</span><span class="o">/</span><span class="n">plot_example</span><span class="o">.</span><span class="n">rst</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span> <span class="n">WARNING</span><span class="p">:</span> <span class="n">Explicit</span> <span class="n">markup</span> <span class="n">ends</span> <span class="n">without</span> <span class="n">a</span> <span class="n">blank</span> <span class="n">line</span><span class="p">;</span> <span class="n">unexpected</span> <span class="n">unindent</span><span class="o">.</span>
</pre></div>
</div>
<p>The warning above occurred due to line 19 in <code class="docutils literal notranslate"><span class="pre">plot_example.rst</span></code>. The
original <code class="docutils literal notranslate"><span class="pre">plot_example.py</span></code> file will need to be amended to fix it.
Sphinx-Gallery only (re)builds new, modified or failed examples, so
re-running the documentation build should rebuild just the modified example,
allowing for quick iteration.</p>
</section>
<section id="write-a-custom-image-scraper">
<span id="custom-scraper"></span><h2><a class="toc-backref" href="#id8" role="doc-backlink">Write a custom image scraper</a><a class="headerlink" href="#write-a-custom-image-scraper" title="Link to this heading">#</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The API for custom scrapers is currently experimental.</p>
</div>
<p>By default, Sphinx-Gallery supports image scraping for Matplotlib
(<a class="reference internal" href="gen_modules/sphinx_gallery.scrapers.html#sphinx_gallery.scrapers.matplotlib_scraper" title="sphinx_gallery.scrapers.matplotlib_scraper"><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib_scraper()</span></code></a>). If you wish to capture
output from other python packages, first determine if the object you wish to
capture has a <code class="docutils literal notranslate"><span class="pre">_repr_html_</span></code> method. If so, you can use the configuration
<code class="docutils literal notranslate"><span class="pre">capture_repr</span></code> (<a class="reference internal" href="configuration.html#capture-repr"><span class="std std-ref">Controlling what output is captured</span></a>) to control the display of the object,
without the need to write a custom scraper. This configuration allows capture
of the raw html output, in a process similar to other html-based displays such
as <a class="reference external" href="https://jupyter.org/">jupyter</a>. If the first option does not work,
this section describes how to write a custom scraper.</p>
<p>Image scrapers are functions (or callable class instances) that do the following
things:</p>
<ol class="arabic simple">
<li><p>Collect a list of images created in the latest execution of code.</p></li>
<li><p>Write these images to disk in PNG, JPEG, SVG, GIF, or WebP format (with .png,
.jpg, .svg, .gif, or .webp extensions, respectively)</p></li>
<li><p>Return reST that embeds these figures in the built documentation.</p></li>
</ol>
<p>The function should take the following inputs (in this order):</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">block</span></code> - a Sphinx-Gallery <code class="docutils literal notranslate"><span class="pre">.py</span></code> file is separated into consecutive
lines of ‚Äòcode‚Äô and reST ‚Äòtext‚Äô, called ‚Äòblocks‚Äô. For each
block, a <cite>namedtuple</cite> with (‚Äútype‚Äù, ‚Äúcontent‚Äù, ‚Äúlineno‚Äù) items
(e.g. <code class="docutils literal notranslate"><span class="pre">('code',</span> <span class="pre">'print(&quot;Hello</span> <span class="pre">world&quot;)',</span> <span class="pre">5)</span></code>) is created.</p>
<ul class="simple">
<li><p>‚Äòlabel‚Äô is a string that can either be <code class="docutils literal notranslate"><span class="pre">'text'</span></code> or <code class="docutils literal notranslate"><span class="pre">'code'</span></code>. In this
context, it should only be <code class="docutils literal notranslate"><span class="pre">'code'</span></code> as this function is only called for
code blocks.</p></li>
<li><p>‚Äòcontent‚Äô is a string containing the actual content of the code block.</p></li>
<li><p>‚Äòlineno‚Äô is an integer, indicating the line number that the block
starts at.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">block_vars</span></code> - dictionary of configuration and runtime variables. Of
interest for image scrapers is the element <code class="docutils literal notranslate"><span class="pre">'image_path_iterator'</span></code> which
is an iterable that returns an absolute path to an image file name
adhering to Sphinx-Gallery naming convention. The path directs to the
<code class="docutils literal notranslate"><span class="pre">gallery_dirs/images</span></code> directory (<a class="reference internal" href="getting_started.html#configure-and-use-sphinx-gallery"><span class="std std-ref">Configure and use Sphinx-Gallery</span></a>)
and the image file name is <code class="docutils literal notranslate"><span class="pre">'sphx_glr_'</span></code> followed by the name of the
source <code class="docutils literal notranslate"><span class="pre">.py</span></code> file then a number, which starts at 1 and increases by 1 at
each iteration. The default file format is <code class="docutils literal notranslate"><span class="pre">.'png'</span></code>. For example:
<code class="docutils literal notranslate"><span class="pre">'home/user/Documents/module/auto_examples/images/sphx_glr_plot_mymodule_001.png'</span></code>.
If a different image extension is desired, the scraper is responsible for
replacing the default <cite>.png</cite> extension. Only supported image extensions
(see above) will enable the file to be picked up by Sphinx-Gallery.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gallery_conf</span></code> - dictionary containing the configuration of Sphinx-Gallery,
set under <code class="docutils literal notranslate"><span class="pre">sphinx_gallery_conf</span></code> in <code class="docutils literal notranslate"><span class="pre">doc/conf.py</span></code> (<a class="reference internal" href="configuration.html#configuration"><span class="std std-ref">Configuration</span></a>).
Of note, the <a class="reference internal" href="configuration.html#image-srcset"><span class="std std-ref">image_srcset</span></a> configuration will provide
user specified image resolutions (as floats) and can be used by your custom scraper
to enable multi-resolution images.</p></li>
</ol>
<p>It should return a string containing the reST for embedding this figure in the
documentation. See <a class="reference internal" href="gen_modules/sphinx_gallery.scrapers.html#sphinx_gallery.scrapers.matplotlib_scraper" title="sphinx_gallery.scrapers.matplotlib_scraper"><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib_scraper()</span></code></a> for an
example of a scraper function (click on ‚Äòsource‚Äô below the function name to see
the source code). The <a class="reference internal" href="gen_modules/sphinx_gallery.scrapers.html#sphinx_gallery.scrapers.matplotlib_scraper" title="sphinx_gallery.scrapers.matplotlib_scraper"><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib_scraper()</span></code></a> uses
the helper function <a class="reference internal" href="gen_modules/sphinx_gallery.scrapers.html#sphinx_gallery.scrapers.figure_rst" title="sphinx_gallery.scrapers.figure_rst"><code class="xref py py-func docutils literal notranslate"><span class="pre">sphinx_gallery.scrapers.figure_rst()</span></code></a> to help generate
reST (see below).</p>
<p>This function will be called once for each code block of your examples.
Sphinx-Gallery will take care of scaling images for the gallery
index page thumbnails. PNG, JPEG and WebP images are scaled using Pillow, and
SVG and GIF images are copied.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>SVG images do not work with <code class="docutils literal notranslate"><span class="pre">latex</span></code> build modes, thus will not
work while building a PDF version of your documentation. You may
want to consider <a class="reference external" href="https://pypi.org/project/sphinxcontrib-svg2pdfconverter/">sphinxcontrib-svg2pdfconverter</a>.</p>
</div>
<section id="example-1-a-matplotlib-style-scraper">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Example 1: a Matplotlib-style scraper</a><a class="headerlink" href="#example-1-a-matplotlib-style-scraper" title="Link to this heading">#</a></h3>
<p>For example, we will show sample code for a scraper for a hypothetical package.
It uses an approach similar to what
<a class="reference internal" href="gen_modules/sphinx_gallery.scrapers.html#sphinx_gallery.scrapers.matplotlib_scraper" title="sphinx_gallery.scrapers.matplotlib_scraper"><code class="xref py py-func docutils literal notranslate"><span class="pre">sphinx_gallery.scrapers.matplotlib_scraper()</span></code></a> does under the hood, which
use the helper function <a class="reference internal" href="gen_modules/sphinx_gallery.scrapers.html#sphinx_gallery.scrapers.figure_rst" title="sphinx_gallery.scrapers.figure_rst"><code class="xref py py-func docutils literal notranslate"><span class="pre">sphinx_gallery.scrapers.figure_rst()</span></code></a> to
create the standardized reST. If your package will be used to write an image
file to disk (e.g., PNG or JPEG), we recommend you use a similar approach:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">my_module_scraper</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">block_vars</span><span class="p">,</span> <span class="n">gallery_conf</span><span class="p">):</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">mymodule</span>
    <span class="c1"># We use a list to collect references to image names</span>
    <span class="n">image_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="c1"># The `image_path_iterator` is created by Sphinx-Gallery, it will yield</span>
    <span class="c1"># a path to a file name that adheres to Sphinx-Gallery naming convention.</span>
    <span class="n">image_path_iterator</span> <span class="o">=</span> <span class="n">block_vars</span><span class="p">[</span><span class="s1">&#39;image_path_iterator&#39;</span><span class="p">]</span>

    <span class="c1"># Define a list of our already-created figure objects.</span>
    <span class="n">list_of_my_figures</span> <span class="o">=</span> <span class="n">mymodule</span><span class="o">.</span><span class="n">get_figures</span><span class="p">()</span>

    <span class="c1"># Iterate through figure objects, save to disk, and keep track of paths.</span>
    <span class="k">for</span> <span class="n">fig</span><span class="p">,</span> <span class="n">image_path</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">list_of_my_figures</span><span class="p">,</span> <span class="n">image_path_iterator</span><span class="p">):</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">save_png</span><span class="p">(</span><span class="n">image_path</span><span class="p">)</span>
        <span class="n">image_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">image_path</span><span class="p">)</span>

    <span class="c1"># Close all references to figures so they aren&#39;t used later.</span>
    <span class="n">mymodule</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>

    <span class="c1"># Use the `figure_rst` helper function to generate the reST for this</span>
    <span class="c1"># code block&#39;s figures. Alternatively you can define your own reST.</span>
    <span class="k">return</span> <span class="n">figure_rst</span><span class="p">(</span><span class="n">image_names</span><span class="p">,</span> <span class="n">gallery_conf</span><span class="p">[</span><span class="s1">&#39;src_dir&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>This code could be defined either in your <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> file, or as a module that
you import into your <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> file (see <a class="reference internal" href="configuration.html#importing-callables"><span class="std std-ref">Importing callables</span></a>).
The configuration needed to use this scraper would look like:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;image_scrapers&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;matplotlib&#39;</span><span class="p">,</span> <span class="s2">&quot;my_module._scraper.my_module_scraper&quot;</span><span class="p">),</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Where Sphinx-Gallery will parse the string <code class="docutils literal notranslate"><span class="pre">&quot;my_module._scraper.my_module_scraper&quot;</span></code>
to import the callable function.</p>
</section>
<section id="example-2-detecting-image-files-on-disk">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Example 2: detecting image files on disk</a><a class="headerlink" href="#example-2-detecting-image-files-on-disk" title="Link to this heading">#</a></h3>
<p>Here‚Äôs another example that assumes that images have <em>already been written to
disk</em>. In this case we won‚Äôt <em>generate</em> any image files, we‚Äôll only generate
the reST needed to embed them in the documentation. Note that the example scripts
will still need to be executed to scrape the files, but the images
don‚Äôt need to be produced during the execution.</p>
<p>We assume the function is defined within your
package in a module called <code class="docutils literal notranslate"><span class="pre">_scraper</span></code>. Here is the scraper code:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">glob</span><span class="w"> </span><span class="kn">import</span> <span class="n">glob</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">shutil</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sphinx_gallery.scrapers</span><span class="w"> </span><span class="kn">import</span> <span class="n">figure_rst</span>

<span class="k">def</span><span class="w"> </span><span class="nf">png_scraper</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">block_vars</span><span class="p">,</span> <span class="n">gallery_conf</span><span class="p">):</span>
    <span class="c1"># Find all PNG files in the directory of this example.</span>
    <span class="n">path_current_example</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">block_vars</span><span class="p">[</span><span class="s1">&#39;src_file&#39;</span><span class="p">])</span>
    <span class="n">pngs</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path_current_example</span><span class="p">,</span> <span class="s1">&#39;*.png&#39;</span><span class="p">)))</span>

    <span class="c1"># Iterate through PNGs, copy them to the Sphinx-Gallery output directory</span>
    <span class="n">image_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="n">image_path_iterator</span> <span class="o">=</span> <span class="n">block_vars</span><span class="p">[</span><span class="s1">&#39;image_path_iterator&#39;</span><span class="p">]</span>
    <span class="n">seen</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">png</span> <span class="ow">in</span> <span class="n">pngs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">png</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen</span><span class="p">:</span>
            <span class="n">seen</span> <span class="o">|=</span> <span class="nb">set</span><span class="p">(</span><span class="n">png</span><span class="p">)</span>
            <span class="n">this_image_path</span> <span class="o">=</span> <span class="n">image_path_iterator</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
            <span class="n">image_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">this_image_path</span><span class="p">)</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">png</span><span class="p">,</span> <span class="n">this_image_path</span><span class="p">)</span>
    <span class="c1"># Use the `figure_rst` helper function to generate reST for image files</span>
    <span class="k">return</span> <span class="n">figure_rst</span><span class="p">(</span><span class="n">image_names</span><span class="p">,</span> <span class="n">gallery_conf</span><span class="p">[</span><span class="s1">&#39;src_dir&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Then, in our <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> file, we include the following code:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;image_scrapers&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;matplotlib&#39;</span><span class="p">,</span> <span class="s1">&#39;my_module._scraper.png_scraper&#39;</span><span class="p">),</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="example-3-matplotlib-with-svg-format">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Example 3: matplotlib with SVG format</a><a class="headerlink" href="#example-3-matplotlib-with-svg-format" title="Link to this heading">#</a></h3>
<p>The <a class="reference internal" href="gen_modules/sphinx_gallery.scrapers.html#sphinx_gallery.scrapers.matplotlib_scraper" title="sphinx_gallery.scrapers.matplotlib_scraper"><code class="xref py py-func docutils literal notranslate"><span class="pre">sphinx_gallery.scrapers.matplotlib_scraper()</span></code></a> supports <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>
to pass to <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.savefig.html#matplotlib.figure.Figure.savefig" title="(in Matplotlib v3.10.8)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.figure.Figure.savefig()</span></code></a>, one of which is the
<code class="docutils literal notranslate"><span class="pre">format</span></code> argument. See <a class="reference internal" href="#custom-scraper"><span class="std std-ref">Write a custom image scraper</span></a> for supported formats.
To use SVG you can define the following function and ensure it is
<a class="reference internal" href="configuration.html#importing-callables"><span class="std std-ref">importable</span></a>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">matplotlib_svg_scraper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">matplotlib_scraper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;svg&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>Then in your <code class="docutils literal notranslate"><span class="pre">conf.py</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;image_scrapers&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;sphinxext.matplotlib_svg_scraper&quot;</span><span class="p">,),</span>
    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>You can also use different formats on a per-image basis, but this requires
writing a customized scraper class or function.</p>
</section>
<section id="example-4-mayavi-scraper">
<span id="mayavi-scraper"></span><h3><a class="toc-backref" href="#id12" role="doc-backlink">Example 4: Mayavi scraper</a><a class="headerlink" href="#example-4-mayavi-scraper" title="Link to this heading">#</a></h3>
<p>Historically, Sphinx-Gallery supported scraping Mayavi figures as well as
matplotlib figures. However, due to the complexity of maintaining the scraper,
support was deprecated in version 0.12.0. To continue using a Mayavi scraping,
consider using something like the following:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sphinx_gallery.scrapers</span><span class="w"> </span><span class="kn">import</span> <span class="n">figure_rst</span>

<span class="k">def</span><span class="w"> </span><span class="nf">mayavi_scraper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">block</span><span class="p">,</span> <span class="n">block_vars</span><span class="p">,</span> <span class="n">gallery_conf</span><span class="p">):</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">mayavi</span><span class="w"> </span><span class="kn">import</span> <span class="n">mlab</span>
    <span class="n">image_path_iterator</span> <span class="o">=</span> <span class="n">block_vars</span><span class="p">[</span><span class="s1">&#39;image_path_iterator&#39;</span><span class="p">]</span>
    <span class="n">image_paths</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="n">e</span> <span class="o">=</span> <span class="n">mlab</span><span class="o">.</span><span class="n">get_engine</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">scene</span><span class="p">,</span> <span class="n">image_path</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">scenes</span><span class="p">,</span> <span class="n">image_path_iterator</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">mlab</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">image_path</span><span class="p">,</span> <span class="n">figure</span><span class="o">=</span><span class="n">scene</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="n">mlab</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="nb">all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">raise</span>
        <span class="c1"># make sure the image is not too large</span>
        <span class="n">scale_image</span><span class="p">(</span><span class="n">image_path</span><span class="p">,</span> <span class="n">image_path</span><span class="p">,</span> <span class="mi">850</span><span class="p">,</span> <span class="mi">999</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">&#39;images&#39;</span> <span class="ow">in</span> <span class="n">gallery_conf</span><span class="p">[</span><span class="s1">&#39;compress_images&#39;</span><span class="p">]:</span>
            <span class="n">optipng</span><span class="p">(</span><span class="n">image_path</span><span class="p">,</span> <span class="n">gallery_conf</span><span class="p">[</span><span class="s1">&#39;compress_images_args&#39;</span><span class="p">])</span>
        <span class="n">image_paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">image_path</span><span class="p">)</span>
    <span class="n">mlab</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="nb">all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">figure_rst</span><span class="p">(</span><span class="n">image_paths</span><span class="p">,</span> <span class="n">gallery_conf</span><span class="p">[</span><span class="s1">&#39;src_dir&#39;</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="integrate-custom-scrapers-with-sphinx-gallery">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Integrate custom scrapers with Sphinx-Gallery</a><a class="headerlink" href="#integrate-custom-scrapers-with-sphinx-gallery" title="Link to this heading">#</a></h3>
<p>Sphinx-Gallery plans to internally maintain only one scraper: matplotlib.
If you have extended or fixed bugs with this scraper, we welcome PRs
to improve it!</p>
<p>On the other hand, if you have developed a custom scraper for a different
plotting library that would be useful to the broader community, we encourage
you to get it working with Sphinx-Gallery and then maintain it externally
(probably in the package that it scrapes), and then integrate and advertise
it with Sphinx-Gallery. You can:</p>
<ol class="arabic">
<li><p>Contribute it to the list of externally supported scrapers located in
<a class="reference internal" href="configuration.html#reset-modules"><span class="std std-ref">Resetting modules</span></a>.</p></li>
<li><p>Optional: add a custom hook to your module root to simplify scraper use.
Taking PyVista as an example, adding <code class="docutils literal notranslate"><span class="pre">pyvista._get_sg_image_scraper()</span></code>
that returns the <code class="docutils literal notranslate"><span class="pre">callable</span></code> scraper to be used by Sphinx-Gallery allows
PyVista users to just use strings as they already can for
<code class="docutils literal notranslate"><span class="pre">'matplotlib'</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;image_scrapers&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;pyvista&#39;</span><span class="p">,)</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Sphinx-Gallery will import the named module (here, <code class="docutils literal notranslate"><span class="pre">pyvista</span></code>) and use the
<code class="docutils literal notranslate"><span class="pre">_get_sg_image_scraper</span></code> function defined there as a scraper.</p>
</li>
</ol>
</section>
</section>
<section id="resetting-before-each-example">
<span id="custom-reset"></span><h2><a class="toc-backref" href="#id14" role="doc-backlink">Resetting before each example</a><a class="headerlink" href="#resetting-before-each-example" title="Link to this heading">#</a></h2>
<p>Sphinx-Gallery supports ‚Äòresetting‚Äô function(s) that are run before and/or after
each example script is executed. This is used natively in Sphinx-Gallery to ‚Äòreset‚Äô
the behavior of the visualization packages <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> and <code class="docutils literal notranslate"><span class="pre">seaborn</span></code>
(<a class="reference internal" href="configuration.html#reset-modules"><span class="std std-ref">Resetting modules</span></a>). However, this functionality could be used to reset other
libraries, modify the resetting behavior for a natively-reset library or run
an arbitrary custom function at the start and/or end of each script.</p>
<p>This is done by adding a custom function to the resetting tuple defined in
<code class="docutils literal notranslate"><span class="pre">conf.py</span></code>. The function should take two variables: a dictionary called
<code class="docutils literal notranslate"><span class="pre">gallery_conf</span></code> (which is
your Sphinx-Gallery configuration) and a string called <code class="docutils literal notranslate"><span class="pre">fname</span></code> (which is the
file name of the currently-executed Python script). These generally don‚Äôt need
to be used in order to perform whatever resetting behavior you want, but must
be included in the function definition for compatibility reasons.</p>
<p>For example, to reset matplotlib to always use the <code class="docutils literal notranslate"><span class="pre">ggplot</span></code> style, you could do:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">reset_mpl</span><span class="p">(</span><span class="n">gallery_conf</span><span class="p">,</span> <span class="n">fname</span><span class="p">):</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">style</span>
    <span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;ggplot&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Any custom functions can be defined (or imported) in <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> and given to
the <code class="docutils literal notranslate"><span class="pre">reset_modules</span></code> configuration key. To add the function defined above (assuming
you‚Äôve make it <a class="reference internal" href="configuration.html#importing-callables"><span class="std std-ref">importable</span></a>):</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;reset_modules&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;sphinxext.reset_mpl&quot;</span><span class="p">,</span> <span class="s2">&quot;seaborn&quot;</span><span class="p">),</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In the config above <code class="docutils literal notranslate"><span class="pre">&quot;seaborn&quot;</span></code> refers to the native seaborn resetting
function (see <a class="reference internal" href="configuration.html#reset-modules"><span class="std std-ref">Resetting modules</span></a>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Using resetters such as <code class="docutils literal notranslate"><span class="pre">reset_mpl</span></code> that deviate from the
standard behavior that users will experience when manually running
examples themselves is discouraged due to the inconsistency
that results between the rendered examples and local outputs.</p>
</div>
<p>If the custom function needs to be aware of whether it is being run before or
after an example, a function signature with three parameters can be used, where
the third parameter is required to be named <code class="docutils literal notranslate"><span class="pre">when</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">reset_mpl</span><span class="p">(</span><span class="n">gallery_conf</span><span class="p">,</span> <span class="n">fname</span><span class="p">,</span> <span class="n">when</span><span class="p">):</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">mpl</span>
    <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;lines.linewidth&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="k">if</span> <span class="n">when</span> <span class="o">==</span> <span class="s1">&#39;after&#39;</span> <span class="ow">and</span> <span class="n">fname</span><span class="o">==</span><span class="s1">&#39;dashed_lines&#39;</span><span class="p">:</span>
        <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;lines.linestyle&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span>
</pre></div>
</div>
<p>The value passed into <code class="docutils literal notranslate"><span class="pre">when</span></code> can be <code class="docutils literal notranslate"><span class="pre">'before'</span></code> or <code class="docutils literal notranslate"><span class="pre">'after'</span></code>.
If <code class="docutils literal notranslate"><span class="pre">reset_modules_order</span></code> in the <a class="reference internal" href="configuration.html#reset-modules-order"><span class="std std-ref">configuration</span></a>
is set to <code class="docutils literal notranslate"><span class="pre">'before'</span></code> or <code class="docutils literal notranslate"><span class="pre">'after'</span></code>, <code class="docutils literal notranslate"><span class="pre">when</span></code> will always be the same value
as what <code class="docutils literal notranslate"><span class="pre">reset_modules_order</span></code> is set to.
This function signature is only useful when used in conjunction with
<code class="docutils literal notranslate"><span class="pre">reset_modules_order</span></code> set to <code class="docutils literal notranslate"><span class="pre">'both'</span></code>.</p>
</section>
<section id="altering-sphinx-gallery-css">
<h2><a class="toc-backref" href="#id15" role="doc-backlink">Altering Sphinx-Gallery CSS</a><a class="headerlink" href="#altering-sphinx-gallery-css" title="Link to this heading">#</a></h2>
<p>The Sphinx-Gallery <code class="docutils literal notranslate"><span class="pre">.css</span></code> files that control the appearance of your example
gallery can be found <a class="reference external" href="https://github.com/sphinx-gallery/sphinx-gallery/tree/master/sphinx_gallery/_static">here</a>.
These default <code class="docutils literal notranslate"><span class="pre">.css</span></code> files are added to your build. Specifically, they are
copied into <code class="docutils literal notranslate"><span class="pre">_build/html/_static/</span></code> of your <code class="docutils literal notranslate"><span class="pre">gallery_dir</span></code>.</p>
<p>You can add your own custom <code class="docutils literal notranslate"><span class="pre">.css</span></code> files by using the
<a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/configuration.html" title="(in Sphinx v9.1.0rc1)"><span class="xref std std-doc">Sphinx configuration</span></a> <code class="docutils literal notranslate"><span class="pre">html_static_path</span></code>.
For example, list any path(s) that contain your custom static files, using the
<code class="docutils literal notranslate"><span class="pre">html_static_path</span></code> configuration, in your <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> file:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">html_static_path</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;_static&#39;</span><span class="p">]</span>
<span class="c1"># Custom CSS paths should either relative to html_static_path</span>
<span class="c1"># or fully qualified paths (eg. https://...)</span>
<span class="n">html_css_files</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;my_custom.css&#39;</span><span class="p">,</span> <span class="s1">&#39;other_change.css&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>The default Sphinx-Gallery <code class="docutils literal notranslate"><span class="pre">.css</span></code> files are copied to your build <strong>after</strong>
files in your <code class="docutils literal notranslate"><span class="pre">html_static_path</span></code> config. This means that files in your
<code class="docutils literal notranslate"><span class="pre">html_static_path</span></code> that are named the same as Sphinx-Gallery <code class="docutils literal notranslate"><span class="pre">.css</span></code> files
will be over-written. You can easily avoid this as all Sphinx-Gallery <code class="docutils literal notranslate"><span class="pre">.css</span></code>
files are prepended with ‚Äòsg_‚Äô (e.g., ‚Äòsg_gallery.css‚Äô). More details on
this can be found in <a class="reference external" href="https://github.com/sphinx-gallery/sphinx-gallery/pull/845">PR #845</a>.</p>
<p>Custom css can be used for example to alter the appearance of
<a class="reference internal" href="configuration.html#stylizing-code-links"><span class="std std-ref">code links</span></a> and
<a class="reference internal" href="configuration.html#setting-thumbnail-size"><span class="std std-ref">thumbnail size</span></a>.</p>
<section id="hide-the-download-buttons-in-the-example-headers">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">Hide the download buttons in the example headers</a><a class="headerlink" href="#hide-the-download-buttons-in-the-example-headers" title="Link to this heading">#</a></h3>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="nt">div</span><span class="p">.</span><span class="nc">sphx-glr-download-link-note</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">none</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="disable-thumbnail-text-on-hover">
<h3><a class="toc-backref" href="#id17" role="doc-backlink">Disable thumbnail text on hover</a><a class="headerlink" href="#disable-thumbnail-text-on-hover" title="Link to this heading">#</a></h3>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="nc">sphx-glr-thumbcontainer</span><span class="o">[</span><span class="nt">tooltip</span><span class="o">]</span><span class="p">:</span><span class="nd">hover</span><span class="p">::</span><span class="nd">before</span><span class="o">,</span>
<span class="p">.</span><span class="nc">sphx-glr-thumbcontainer</span><span class="o">[</span><span class="nt">tooltip</span><span class="o">]</span><span class="p">:</span><span class="nd">hover</span><span class="p">::</span><span class="nd">after</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">none</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="using-only-sphinx-gallery-styles">
<h2><a class="toc-backref" href="#id18" role="doc-backlink">Using (only) Sphinx-Gallery styles</a><a class="headerlink" href="#using-only-sphinx-gallery-styles" title="Link to this heading">#</a></h2>
<p>If you just want to make use of sphinx-Gallery CSS files, instead of using
the <code class="docutils literal notranslate"><span class="pre">sphinx_gallery.gen_gallery</span></code> extension, you can use in <code class="docutils literal notranslate"><span class="pre">conf.py</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">extensions</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sphinx_gallery.load_style&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>This will only cause the <code class="docutils literal notranslate"><span class="pre">gallery.css</span></code> file to be added to your build.</p>
</section>
<section id="using-sphinx-gallery-sidebar-components">
<h2><a class="toc-backref" href="#id19" role="doc-backlink">Using Sphinx-Gallery sidebar components</a><a class="headerlink" href="#using-sphinx-gallery-sidebar-components" title="Link to this heading">#</a></h2>
<p>Sphinx-Gallery provides two built-in components (which are essentially <a class="reference external" href="https://www.sphinx-doc.org/en/master/development/templating.html">Sphinx templates</a>):
<code class="docutils literal notranslate"><span class="pre">sg_download_links</span></code> and <code class="docutils literal notranslate"><span class="pre">sg_launcher_links</span></code>. They are primarily designed for use in
<a class="reference external" href="https://pydata-sphinx-theme.readthedocs.io/en/stable/user_guide/layout.html#secondary-sidebar-right">secondary sidebars</a>
of <code class="docutils literal notranslate"><span class="pre">pydata-sphinx-theme</span></code>, but also work with any other configuration that uses
templates, e.g., <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/configuration.html#confval-html_sidebars">html_sidebars</a>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sg_download_links</span></code>: Displays the download links of source code, Jupyter notebook,
and the zip of them for an example.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sg_launcher_links</span></code>: Displays the launcher links for JupyterLite and Binder for an
example.</p></li>
</ul>
<p>Note that it is safe to use these components on any page, even if the page is not a
Sphinx-Gallery example page. The components work by grabbing specific Sphinx-Gallery
classes from the page, hence for non-Sphinx-Gallery pages, the components will simply
not render anything.</p>
<p>Using these components does not mean that the original download and launcher links will
be removed from the page. In fact, they cannot be removed as otherwise the components
cannot grab the necessary information. To visually remove the original links in favor
of the components, one can use <code class="docutils literal notranslate"><span class="pre">display:</span> <span class="pre">none</span></code> in CSS to hide them. The relevant
classes are:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="nc">sphx-glr-download-link-note</span><span class="o">,</span><span class="w"> </span><span class="c">/* Download link note in header */</span>
<span class="p">.</span><span class="nc">binder-badge</span><span class="o">,</span><span class="w">                </span><span class="c">/* Binder launch badge in footer */</span>
<span class="p">.</span><span class="nc">lite-badge</span><span class="o">,</span><span class="w">                  </span><span class="c">/* Lite launch badge in footer */</span>
<span class="p">.</span><span class="nc">sphx-glr-download-jupyter</span><span class="o">,</span><span class="w">   </span><span class="c">/* Download Jupyter notebook link in footer */</span>
<span class="p">.</span><span class="nc">sphx-glr-download-python</span><span class="o">,</span><span class="w">    </span><span class="c">/* Download Python script link in footer */</span>
<span class="p">.</span><span class="nc">sphx-glr-download-zip</span><span class="w">        </span><span class="c">/* Download zipped link in footer */</span>
<span class="p">{</span>
<span class="w">  </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">none</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<section id="example">
<h3><a class="toc-backref" href="#id20" role="doc-backlink">Example</a><a class="headerlink" href="#example" title="Link to this heading">#</a></h3>
<p>Here we will show an example of how to use these components in the secondary sidebar of
<code class="docutils literal notranslate"><span class="pre">pydata-sphinx-theme</span></code>. Navigate around <a class="reference internal" href="auto_examples/index.html#examples-index"><span class="std std-ref">Basics Gallery with Matplotlib</span></a> for an example of what
the sidebar would look like.</p>
<p>Configure the components to be used in the secondary sidebar:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_theme_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s2">&quot;secondary_sidebar_items&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;page-toc&quot;</span><span class="p">,</span> <span class="s2">&quot;sg_download_links&quot;</span><span class="p">,</span> <span class="s2">&quot;sg_launcher_links&quot;</span><span class="p">],</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Add the CSS to hide the original download and launcher links (suppose that the CSS is
placed in <code class="docutils literal notranslate"><span class="pre">_static/hide_links.css</span></code>):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_static_path</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;_static&quot;</span><span class="p">]</span>

<span class="k">def</span><span class="w"> </span><span class="nf">setup</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="c1"># ...</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_css_file</span><span class="p">(</span><span class="s2">&quot;hide_links.css&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The above will include the CSS in all pages. If one wants to add the CSS only for
certain pages, one can alternatively do the following (only add to pages that start with
<code class="docutils literal notranslate"><span class="pre">auto_examples/</span></code>):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html_static_path</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;_static&quot;</span><span class="p">]</span>

<span class="k">def</span><span class="w"> </span><span class="nf">hide_sg_links</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">pagename</span><span class="p">,</span> <span class="n">templatename</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">doctree</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">pagename</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;auto_examples/&quot;</span><span class="p">):</span>
        <span class="n">app</span><span class="o">.</span><span class="n">add_css_file</span><span class="p">(</span><span class="s2">&quot;hide_links.css&quot;</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">setup</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="c1"># ...</span>
    <span class="n">app</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;html-page-context&quot;</span><span class="p">,</span> <span class="n">hide_sg_links</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="advanced_index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Advanced topics</p>
      </div>
    </a>
    <a class="right-next"
       href="faq.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Frequently Asked Questions</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#extend-your-makefile-for-sphinx-gallery">Extend your Makefile for Sphinx-Gallery</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cleaning-the-gallery-files">Cleaning the gallery files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#build-the-gallery-without-running-any-examples">Build the gallery without running any examples</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#know-your-gallery-files">Know your Gallery files</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cross-referencing">Cross referencing</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#understanding-warning-and-error-outputs">Understanding warning and error outputs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#write-a-custom-image-scraper">Write a custom image scraper</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-1-a-matplotlib-style-scraper">Example 1: a Matplotlib-style scraper</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-2-detecting-image-files-on-disk">Example 2: detecting image files on disk</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-3-matplotlib-with-svg-format">Example 3: matplotlib with SVG format</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-4-mayavi-scraper">Example 4: Mayavi scraper</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#integrate-custom-scrapers-with-sphinx-gallery">Integrate custom scrapers with Sphinx-Gallery</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resetting-before-each-example">Resetting before each example</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#altering-sphinx-gallery-css">Altering Sphinx-Gallery CSS</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hide-the-download-buttons-in-the-example-headers">Hide the download buttons in the example headers</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#disable-thumbnail-text-on-hover">Disable thumbnail text on hover</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-only-sphinx-gallery-styles">Using (only) Sphinx-Gallery styles</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-sphinx-gallery-sidebar-components">Using Sphinx-Gallery sidebar components</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example">Example</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      ¬© Copyright 2014-2025, Sphinx-gallery developers.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>